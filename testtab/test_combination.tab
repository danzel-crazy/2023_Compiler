PROGRAM test_combination(input, output, error);

var a, b : INTEGER;

FUNCTION comb(a, b: integer) : INTEGER;
    begin
        if (a > b) then
            if (a = 1) then
                comb := 1
            else
                if (a > 0) then
                    if (b > 0) then
                        comb := comb(a - 1, b - 1) + comb(a-1, b)
                    else
                        comb := 1
                else
                    comb := 0
        else
            comb := 1
    end;

begin
    a := 3;
    b := 4;
    writelnI(comb(a + 3, b - 2));
end.
 NODE_prog
         NODE_PROGRAM
         NODE_IDENTIFIER:test_combination
         NODE_LPAREN
         NODE_identifier_list
                 NODE_identifier_list
                         NODE_identifier_list
                                 NODE_IDENTIFIER:input
                         NODE_COMMA
                         NODE_IDENTIFIER:output
                 NODE_COMMA
                 NODE_IDENTIFIER:error
         NODE_RPAREN
         NODE_SEMICOLON
         NODE_declarations
                 NODE_declarations
                 NODE_VAR
                 NODE_identifier_list
                         NODE_identifier_list
                                 NODE_IDENTIFIER:a
                         NODE_IDENTIFIER:b
                 NODE_COLON
                 NODE_type
                         NODE_standard_type
                                 NODE_INTEGER
                 NODE_SEMICOLON
         NODE_subprogram_declarations
                 NODE_subprogram_declarations
                 NODE_subprogram_declaration
                         NODE_subprogram_head
                                 function
                                 NODE_IDENTIFIER:comb
                                 NODE_arguments
                                         NODE_LPAREN
                                         NODE_parameter_list
                                                 NODE_optional_var
                                                 NODE_identifier_list
                                                         NODE_identifier_list
                                                                 NODE_IDENTIFIER:a
                                                         NODE_IDENTIFIER:b
                                                 NODE_COLON
                                                 NODE_type
                                                         NODE_standard_type
                                                                 NODE_INTEGER
                                         NODE_RPAREN
                                 NODE_COLON
                                 NODE_standard_type
                                         NODE_INTEGER
                                 NODE_SEMICOLON
                         NODE_declarations
                         NODE_subprogram_declarations
                         NODE_compound_statement
                                 NODE_PBEGIN
                                 NODE_optional_statements
                                         NODE_statement_list
                                                 NODE_statement
                                                         NODE_IF
                                                         NODE_expression
                                                                 NODE_boolexpression
                                                                         NODE_simple_expression
                                                                                 NODE_term
                                                                                         NODE_factor
                                                                                                 NODE_LPAREN
                                                                                                 NODE_expression
                                                                                                         NODE_boolexpression
                                                                                                                 NODE_simple_expression
                                                                                                                         NODE_term
                                                                                                                                 NODE_factor
                                                                                                                                         NODE_IDENTIFIER:a
                                                                                                                                         NODE_tail
                                                                                                                 NODE_relop
                                                                                                                         NODE_GTOP
                                                                                                                 NODE_simple_expression
                                                                                                                         NODE_term
                                                                                                                                 NODE_factor
                                                                                                                                         NODE_IDENTIFIER:b
                                                                                                                                         NODE_tail
                                                                                                 NODE_RPAREN
                                                         NODE_THEN
                                                         NODE_statement
                                                                 NODE_IF
                                                                 NODE_expression
                                                                         NODE_boolexpression
                                                                                 NODE_simple_expression
                                                                                         NODE_term
                                                                                                 NODE_factor
                                                                                                         NODE_LPAREN
                                                                                                         NODE_expression
                                                                                                                 NODE_boolexpression
                                                                                                                         NODE_simple_expression
                                                                                                                                 NODE_term
                                                                                                                                         NODE_factor
                                                                                                                                                 NODE_IDENTIFIER:a
                                                                                                                                                 NODE_tail
                                                                                                                         NODE_relop
                                                                                                                                 NODE_EQOP
                                                                                                                         NODE_simple_expression
                                                                                                                                 NODE_term
                                                                                                                                         NODE_factor
                                                                                                                                                 NODE_num
                                                                                                                                                         NODE_INTEGERNUM:1
                                                                                                         NODE_RPAREN
                                                                 NODE_THEN
                                                                 NODE_statement
                                                                         NODE_variable
                                                                                 NODE_IDENTIFIER:comb
                                                                                 NODE_tail
                                                                         NODE_ASSIGNMENT
                                                                         NODE_expression
                                                                                 NODE_boolexpression
                                                                                         NODE_simple_expression
                                                                                                 NODE_term
                                                                                                         NODE_factor
                                                                                                                 NODE_num
                                                                                                                         NODE_INTEGERNUM:1
                                                                 NODE_ELSE
                                                                 NODE_statement
                                                                         NODE_IF
                                                                         NODE_expression
                                                                                 NODE_boolexpression
                                                                                         NODE_simple_expression
                                                                                                 NODE_term
                                                                                                         NODE_factor
                                                                                                                 NODE_LPAREN
                                                                                                                 NODE_expression
                                                                                                                         NODE_boolexpression
                                                                                                                                 NODE_simple_expression
                                                                                                                                         NODE_term
                                                                                                                                                 NODE_factor
                                                                                                                                                         NODE_IDENTIFIER:a
                                                                                                                                                         NODE_tail
                                                                                                                                 NODE_relop
                                                                                                                                         NODE_GTOP
                                                                                                                                 NODE_simple_expression
                                                                                                                                         NODE_term
                                                                                                                                                 NODE_factor
                                                                                                                                                         NODE_num
                                                                                                                                                                 NODE_INTEGERNUM:0
                                                                                                                 NODE_RPAREN
                                                                         NODE_THEN
                                                                         NODE_statement
                                                                                 NODE_IF
                                                                                 NODE_expression
                                                                                         NODE_boolexpression
                                                                                                 NODE_simple_expression
                                                                                                         NODE_term
                                                                                                                 NODE_factor
                                                                                                                         NODE_LPAREN
                                                                                                                         NODE_expression
                                                                                                                                 NODE_boolexpression
                                                                                                                                         NODE_simple_expression
                                                                                                                                                 NODE_term
                                                                                                                                                         NODE_factor
                                                                                                                                                                 NODE_IDENTIFIER:b
                                                                                                                                                                 NODE_tail
                                                                                                                                         NODE_relop
                                                                                                                                                 NODE_GTOP
                                                                                                                                         NODE_simple_expression
                                                                                                                                                 NODE_term
                                                                                                                                                         NODE_factor
                                                                                                                                                                 NODE_num
                                                                                                                                                                         NODE_INTEGERNUM:0
                                                                                                                         NODE_RPAREN
                                                                                 NODE_THEN
                                                                                 NODE_statement
                                                                                         NODE_variable
                                                                                                 NODE_IDENTIFIER:comb
                                                                                                 NODE_tail
                                                                                         NODE_ASSIGNMENT
                                                                                         NODE_expression
                                                                                                 NODE_boolexpression
                                                                                                         NODE_simple_expression
                                                                                                                 NODE_simple_expression
                                                                                                                         NODE_term
                                                                                                                                 NODE_factor
                                                                                                                                         NODE_IDENTIFIER:comb
                                                                                                                                         NODE_LPAREN
                                                                                                                                         NODE_expression_list
                                                                                                                                                 NODE_expression_list
                                                                                                                                                         NODE_expression
                                                                                                                                                                 NODE_boolexpression
                                                                                                                                                                         NODE_simple_expression
                                                                                                                                                                                 NODE_simple_expression
                                                                                                                                                                                         NODE_term
                                                                                                                                                                                                 NODE_factor
                                                                                                                                                                                                         NODE_IDENTIFIER:a
                                                                                                                                                                                                         NODE_tail
                                                                                                                                                                                 NODE_addop
                                                                                                                                                                                         NODE_SUBOP
                                                                                                                                                                                 NODE_term
                                                                                                                                                                                         NODE_factor
                                                                                                                                                                                                 NODE_num
                                                                                                                                                                                                         NODE_INTEGERNUM:1
                                                                                                                                                 NODE_COMMA
                                                                                                                                                 NODE_expression
                                                                                                                                                         NODE_boolexpression
                                                                                                                                                                 NODE_simple_expression
                                                                                                                                                                         NODE_simple_expression
                                                                                                                                                                                 NODE_term
                                                                                                                                                                                         NODE_factor
                                                                                                                                                                                                 NODE_IDENTIFIER:b
                                                                                                                                                                                                 NODE_tail
                                                                                                                                                                         NODE_addop
                                                                                                                                                                                 NODE_SUBOP
                                                                                                                                                                         NODE_term
                                                                                                                                                                                 NODE_factor
                                                                                                                                                                                         NODE_num
                                                                                                                                                                                                 NODE_INTEGERNUM:1
                                                                                                                                         NODE_RPAREN
                                                                                                                 NODE_addop
                                                                                                                         NODE_ADDOP
                                                                                                                 NODE_term
                                                                                                                         NODE_factor
                                                                                                                                 NODE_IDENTIFIER:comb
                                                                                                                                 NODE_LPAREN
                                                                                                                                 NODE_expression_list
                                                                                                                                         NODE_expression_list
                                                                                                                                                 NODE_expression
                                                                                                                                                         NODE_boolexpression
                                                                                                                                                                 NODE_simple_expression
                                                                                                                                                                         NODE_simple_expression
                                                                                                                                                                                 NODE_term
                                                                                                                                                                                         NODE_factor
                                                                                                                                                                                                 NODE_IDENTIFIER:a
                                                                                                                                                                                                 NODE_tail
                                                                                                                                                                         NODE_addop
                                                                                                                                                                                 NODE_SUBOP
                                                                                                                                                                         NODE_term
                                                                                                                                                                                 NODE_factor
                                                                                                                                                                                         NODE_num
                                                                                                                                                                                                 NODE_INTEGERNUM:1
                                                                                                                                         NODE_COMMA
                                                                                                                                         NODE_expression
                                                                                                                                                 NODE_boolexpression
                                                                                                                                                         NODE_simple_expression
                                                                                                                                                                 NODE_term
                                                                                                                                                                         NODE_factor
                                                                                                                                                                                 NODE_IDENTIFIER:b
                                                                                                                                                                                 NODE_tail
                                                                                                                                 NODE_RPAREN
                                                                                 NODE_ELSE
                                                                                 NODE_statement
                                                                                         NODE_variable
                                                                                                 NODE_IDENTIFIER:comb
                                                                                                 NODE_tail
                                                                                         NODE_ASSIGNMENT
                                                                                         NODE_expression
                                                                                                 NODE_boolexpression
                                                                                                         NODE_simple_expression
                                                                                                                 NODE_term
                                                                                                                         NODE_factor
                                                                                                                                 NODE_num
                                                                                                                                         NODE_INTEGERNUM:1
                                                                         NODE_ELSE
                                                                         NODE_statement
                                                                                 NODE_variable
                                                                                         NODE_IDENTIFIER:comb
                                                                                         NODE_tail
                                                                                 NODE_ASSIGNMENT
                                                                                 NODE_expression
                                                                                         NODE_boolexpression
                                                                                                 NODE_simple_expression
                                                                                                         NODE_term
                                                                                                                 NODE_factor
                                                                                                                         NODE_num
                                                                                                                                 NODE_INTEGERNUM:0
                                                         NODE_ELSE
                                                         NODE_statement
                                                                 NODE_variable
                                                                         NODE_IDENTIFIER:comb
                                                                         NODE_tail
                                                                 NODE_ASSIGNMENT
                                                                 NODE_expression
                                                                         NODE_boolexpression
                                                                                 NODE_simple_expression
                                                                                         NODE_term
                                                                                                 NODE_factor
                                                                                                         NODE_num
                                                                                                                 NODE_INTEGERNUM:1
                                 NODE_END
                 NODE_SEMICOLON
         NODE_compound_statement
                 NODE_PBEGIN
                 NODE_optional_statements
                         NODE_statement_list
                                 NODE_statement_list
                                         NODE_statement_list
                                                 NODE_statement_list
                                                         NODE_statement
                                                                 NODE_variable
                                                                         NODE_IDENTIFIER:a
                                                                         NODE_tail
                                                                 NODE_ASSIGNMENT
                                                                 NODE_expression
                                                                         NODE_boolexpression
                                                                                 NODE_simple_expression
                                                                                         NODE_term
                                                                                                 NODE_factor
                                                                                                         NODE_num
                                                                                                                 NODE_INTEGERNUM:3
                                                 NODE_SEMICOLON
                                                 NODE_statement
                                                         NODE_variable
                                                                 NODE_IDENTIFIER:b
                                                                 NODE_tail
                                                         NODE_ASSIGNMENT
                                                         NODE_expression
                                                                 NODE_boolexpression
                                                                         NODE_simple_expression
                                                                                 NODE_term
                                                                                         NODE_factor
                                                                                                 NODE_num
                                                                                                         NODE_INTEGERNUM:4
                                         NODE_SEMICOLON
                                         NODE_statement
                                                 NODE_procedure_statement
                                                         NODE_IDENTIFIER:writelnI
                                                         NODE_LPAREN
                                                         NODE_expression_list
                                                                 NODE_expression
                                                                         NODE_boolexpression
                                                                                 NODE_simple_expression
                                                                                         NODE_term
                                                                                                 NODE_factor
                                                                                                         NODE_IDENTIFIER:comb
                                                                                                         NODE_LPAREN
                                                                                                         NODE_expression_list
                                                                                                                 NODE_expression_list
                                                                                                                         NODE_expression
                                                                                                                                 NODE_boolexpression
                                                                                                                                         NODE_simple_expression
                                                                                                                                                 NODE_simple_expression
                                                                                                                                                         NODE_term
                                                                                                                                                                 NODE_factor
                                                                                                                                                                         NODE_IDENTIFIER:a
                                                                                                                                                                         NODE_tail
                                                                                                                                                 NODE_addop
                                                                                                                                                         NODE_ADDOP
                                                                                                                                                 NODE_term
                                                                                                                                                         NODE_factor
                                                                                                                                                                 NODE_num
                                                                                                                                                                         NODE_INTEGERNUM:3
                                                                                                                 NODE_COMMA
                                                                                                                 NODE_expression
                                                                                                                         NODE_boolexpression
                                                                                                                                 NODE_simple_expression
                                                                                                                                         NODE_simple_expression
                                                                                                                                                 NODE_term
                                                                                                                                                         NODE_factor
                                                                                                                                                                 NODE_IDENTIFIER:b
                                                                                                                                                                 NODE_tail
                                                                                                                                         NODE_addop
                                                                                                                                                 NODE_SUBOP
                                                                                                                                         NODE_term
                                                                                                                                                 NODE_factor
                                                                                                                                                         NODE_num
                                                                                                                                                                 NODE_INTEGERNUM:2
                                                                                                         NODE_RPAREN
                                                         NODE_RPAREN
                                 NODE_SEMICOLON
                                 NODE_statement
                 NODE_END
